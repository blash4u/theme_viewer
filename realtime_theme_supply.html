
        <!DOCTYPE html>
        <html lang="ko">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>실시간 주도 테마 현황 검색기 (장마감: 2025-10-27 08:54)</title>
            <style>
                body { font-family: sans-serif; text-align: center; padding-top: 50px; background-color: #f8f9fa; }
                .container { max-width: 600px; margin: auto; padding: 30px; border: 1px solid #dee2e6; border-radius: 8px; background-color: white; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
                h1 { color: #dc3545; } /* 장 마감 색상 강조 */
                p { font-size: 1.1em; margin: 15px 0; }
                .time { font-weight: bold; color: #007bff; }
                #currentTime { color: #6c757d; } /* 현재 시간 색상 */
                #remainingTime { color: #28a745; } /* 남은 시간 색상 */
                small { color: #6c757d; }
            </style>
        </head>
        <body>
            <div class="container">
                <h1>📈 장 마감</h1>
                <p>현재 시간: <span class="time" id="currentTime">2025-10-27 08:54:32</span></p>
                <p>다음 개장 예정: <span class="time">2025-10-28 09:00:00</span></p>
                <p>개장까지: <span class="time" id="remainingTime">계산 중...</span></p>
                <p><small>(이 페이지는 장 시작 후 자동으로 Treemap으로 업데이트됩니다.)</small></p>
            </div>

            <script>
                // Python에서 전달받은 다음 개장 시간 (ISO 형식 문자열)
                const nextOpenTimeStr = "2025-10-28T09:00:00";
                const nextOpenDate = new Date(nextOpenTimeStr); // Date 객체로 변환

                // 시간을 업데이트하는 함수
                function updateTimes() {
                    const now = new Date(); // 현재 시간 가져오기
                    const diff = nextOpenDate - now; // 다음 개장까지 남은 밀리초

                    // 현재 시간 표시 업데이트 (YYYY-MM-DD HH:MM:SS 형식)
                    const year = now.getFullYear();
                    const month = String(now.getMonth() + 1).padStart(2, '0');
                    const day = String(now.getDate()).padStart(2, '0');
                    const hours = String(now.getHours()).padStart(2, '0');
                    const minutes = String(now.getMinutes()).padStart(2, '0');
                    const seconds = String(now.getSeconds()).padStart(2, '0');
                    document.getElementById('currentTime').textContent = `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;

                    // 남은 시간 계산 및 표시 업데이트
                    let remainingStr = "개장했습니다!";
                    if (diff > 0) {
                        const totalSeconds = Math.floor(diff / 1000);
                        const remHours = Math.floor(totalSeconds / 3600);
                        const remMinutes = Math.floor((totalSeconds % 3600) / 60);
                        const remSeconds = totalSeconds % 60; // 초 단위까지 표시
                        remainingStr = `약 ${remHours}시간 ${remMinutes}분 ${remSeconds}초 남았습니다.`;
                    } else {
                        // 시간이 되면 자동 새로고침 시도 (5초 후)
                        // 사용자가 보고 있을 때 갑자기 바뀌는 것을 방지
                        setTimeout(() => window.location.reload(), 5000);
                    }
                    document.getElementById('remainingTime').textContent = remainingStr;
                }

                // 1초마다 updateTimes 함수 실행
                setInterval(updateTimes, 1000);

                // 페이지 로드 시 즉시 한 번 실행
                updateTimes();
            </script>
        </body>
        </html>
        